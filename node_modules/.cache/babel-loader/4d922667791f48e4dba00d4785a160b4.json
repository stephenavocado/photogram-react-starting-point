{"ast":null,"code":"import _slicedToArray from\"/workspace/photogram-react-starting-point/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useContext,useEffect,useState}from\"react\";import{AuthenticationContext}from\"../../services/authentication/authentication.context\";import{FeedContext}from\"../../services/feed/feed.context\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";export default function Post(_ref){var post=_ref.post;var _useContext=useContext(AuthenticationContext),currentUser=_useContext.currentUser;var caption=post.caption,image=post.image;var _useContext2=useContext(FeedContext),like=_useContext2.like;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),liked=_useState2[0],setLiked=_useState2[1];var _useState3=useState(post.likes.length),_useState4=_slicedToArray(_useState3,2),likes=_useState4[0],setLikes=_useState4[1];useEffect(function(){setLikes(function(prevLikes){return prevLikes+1;});},[post]);return/*#__PURE__*/_jsxs(\"div\",{className:\"post-wrapper\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"post-header\",children:[\"username \",JSON.stringify(post)]}),/*#__PURE__*/_jsx(\"div\",{className:\"post-image-wrapper\",children:/*#__PURE__*/_jsx(\"img\",{className:\"post-image\",src:image})}),/*#__PURE__*/_jsxs(\"div\",{className:\"post-likes-row\",children:[likes,\" \",likes===1?\"like\":\"likes\",/*#__PURE__*/_jsx(\"div\",{onClick:function onClick(){!liked&&like(post.id,currentUser.user.id);},className:\"post-like-button\",children:liked?\"‚ù§Ô∏è Un-like\":\"ü§ç Like\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"post-caption\",children:caption})]});};","map":{"version":3,"names":["React","useContext","useEffect","useState","AuthenticationContext","FeedContext","Post","post","currentUser","caption","image","like","liked","setLiked","likes","length","setLikes","prevLikes","JSON","stringify","id","user"],"sources":["/workspace/photogram-react-starting-point/src/features/feed/Post.js"],"sourcesContent":["import React, { useContext, useEffect, useState } from \"react\";\nimport { AuthenticationContext } from \"../../services/authentication/authentication.context\";\nimport { FeedContext } from \"../../services/feed/feed.context\";\n\nexport default function Post({ post }) {\n    const { currentUser } = useContext(AuthenticationContext);\n    const { caption, image } = post;\n    const { like } = useContext(FeedContext);\n    const [liked, setLiked] = useState(false);   \n    const [likes, setLikes] = useState(post.likes.length);\n\n    useEffect(() => {\n        setLikes(prevLikes => prevLikes + 1);\n    }, [post])\n\n    return (\n        <div className=\"post-wrapper\">\n            <h3 className=\"post-header\">\n                username {JSON.stringify(post)}\n            </h3>\n            <div className=\"post-image-wrapper\">\n                <img className=\"post-image\" src={image} />\n            </div>\n            <div className=\"post-likes-row\">\n                {likes} {likes === 1 ? \"like\" : \"likes\"}\n                <div \n                    onClick={() => {!liked && like(post.id, currentUser.user.id)}} \n                    className=\"post-like-button\"\n                >\n                    {liked ? \"‚ù§Ô∏è Un-like\" : \"ü§ç Like\"}\n                </div>\n            </div>\n            <div className=\"post-caption\">\n                {caption}\n            </div>\n        </div>\n    ); \n};"],"mappings":"+HAAA,MAAOA,MAAP,EAAgBC,UAAhB,CAA4BC,SAA5B,CAAuCC,QAAvC,KAAuD,OAAvD,CACA,OAASC,qBAAT,KAAsC,sDAAtC,CACA,OAASC,WAAT,KAA4B,kCAA5B,C,wFAEA,cAAe,SAASC,KAAT,MAAwB,IAARC,KAAQ,MAARA,IAAQ,CACnC,gBAAwBN,UAAU,CAACG,qBAAD,CAAlC,CAAQI,WAAR,aAAQA,WAAR,CACA,GAAQC,QAAR,CAA2BF,IAA3B,CAAQE,OAAR,CAAiBC,KAAjB,CAA2BH,IAA3B,CAAiBG,KAAjB,CACA,iBAAiBT,UAAU,CAACI,WAAD,CAA3B,CAAQM,IAAR,cAAQA,IAAR,CACA,cAA0BR,QAAQ,CAAC,KAAD,CAAlC,wCAAOS,KAAP,eAAcC,QAAd,eACA,eAA0BV,QAAQ,CAACI,IAAI,CAACO,KAAL,CAAWC,MAAZ,CAAlC,yCAAOD,KAAP,eAAcE,QAAd,eAEAd,SAAS,CAAC,UAAM,CACZc,QAAQ,CAAC,SAAAC,SAAS,QAAIA,UAAS,CAAG,CAAhB,EAAV,CAAR,CACH,CAFQ,CAEN,CAACV,IAAD,CAFM,CAAT,CAIA,mBACI,aAAK,SAAS,CAAC,cAAf,wBACI,YAAI,SAAS,CAAC,aAAd,uBACcW,IAAI,CAACC,SAAL,CAAeZ,IAAf,CADd,GADJ,cAII,YAAK,SAAS,CAAC,oBAAf,uBACI,YAAK,SAAS,CAAC,YAAf,CAA4B,GAAG,CAAEG,KAAjC,EADJ,EAJJ,cAOI,aAAK,SAAS,CAAC,gBAAf,WACKI,KADL,KACaA,KAAK,GAAK,CAAV,CAAc,MAAd,CAAuB,OADpC,cAEI,YACI,OAAO,CAAE,kBAAM,CAAC,CAACF,KAAD,EAAUD,IAAI,CAACJ,IAAI,CAACa,EAAN,CAAUZ,WAAW,CAACa,IAAZ,CAAiBD,EAA3B,CAAd,CAA6C,CADjE,CAEI,SAAS,CAAC,kBAFd,UAIKR,KAAK,CAAG,YAAH,CAAkB,SAJ5B,EAFJ,GAPJ,cAgBI,YAAK,SAAS,CAAC,cAAf,UACKH,OADL,EAhBJ,GADJ,CAsBH"},"metadata":{},"sourceType":"module"}
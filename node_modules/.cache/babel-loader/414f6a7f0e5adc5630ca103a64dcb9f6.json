{"ast":null,"code":"import React,{useContext,useEffect}from\"react\";import{FeedContext}from\"../../services/feed/feed.context\";import{AuthenticationContext}from\"../../services/authentication/authentication.context\";import Post from\"./Post\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Feed(){var _useContext=useContext(FeedContext),feed=_useContext.feed,getFeed=_useContext.getFeed,loaded=_useContext.loaded;var _useContext2=useContext(AuthenticationContext),currentUser=_useContext2.currentUser;var id=currentUser.user.id;useEffect(function(){getFeed(id);},[feed.length]);if(!loaded){return;};var posts=feed.map(function(post){return/*#__PURE__*/_jsx(Post,{post:post},post.id);});return/*#__PURE__*/_jsxs(\"div\",{className:\"page-wrapper\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"feed\"}),posts]});};","map":{"version":3,"names":["React","useContext","useEffect","FeedContext","AuthenticationContext","Post","Feed","feed","getFeed","loaded","currentUser","id","user","length","posts","map","post"],"sources":["/workspace/photogram-react-starting-point/src/features/feed/Feed.js"],"sourcesContent":["import React, { useContext, useEffect } from \"react\";\nimport { FeedContext } from \"../../services/feed/feed.context\";\nimport { AuthenticationContext } from \"../../services/authentication/authentication.context\";\nimport Post from \"./Post\";\n\nexport default function Feed() {\n    const { feed, getFeed, loaded } = useContext(FeedContext);\n    const { currentUser } = useContext(AuthenticationContext);\n    const { id } = currentUser.user;\n \n    useEffect(() => {\n        getFeed(id);\n    }, [feed.length])\n\n    if (!loaded) {\n        return\n    };\n\n    const posts = feed.map((post) => {\n        return (\n            <Post post={post} key={post.id} />\n        )\n    });\n  \n    return (\n        <div className=\"page-wrapper\">\n            <h1>feed</h1>\n            {posts}\n        </div>\n    );\n};"],"mappings":"AAAA,MAAOA,MAAP,EAAgBC,UAAhB,CAA4BC,SAA5B,KAA6C,OAA7C,CACA,OAASC,WAAT,KAA4B,kCAA5B,CACA,OAASC,qBAAT,KAAsC,sDAAtC,CACA,MAAOC,KAAP,KAAiB,QAAjB,C,wFAEA,cAAe,SAASC,KAAT,EAAgB,CAC3B,gBAAkCL,UAAU,CAACE,WAAD,CAA5C,CAAQI,IAAR,aAAQA,IAAR,CAAcC,OAAd,aAAcA,OAAd,CAAuBC,MAAvB,aAAuBA,MAAvB,CACA,iBAAwBR,UAAU,CAACG,qBAAD,CAAlC,CAAQM,WAAR,cAAQA,WAAR,CACA,GAAQC,GAAR,CAAeD,WAAW,CAACE,IAA3B,CAAQD,EAAR,CAEAT,SAAS,CAAC,UAAM,CACZM,OAAO,CAACG,EAAD,CAAP,CACH,CAFQ,CAEN,CAACJ,IAAI,CAACM,MAAN,CAFM,CAAT,CAIA,GAAI,CAACJ,MAAL,CAAa,CACT,OACH,EAED,GAAMK,MAAK,CAAGP,IAAI,CAACQ,GAAL,CAAS,SAACC,IAAD,CAAU,CAC7B,mBACI,KAAC,IAAD,EAAM,IAAI,CAAEA,IAAZ,EAAuBA,IAAI,CAACL,EAA5B,CADJ,CAGH,CAJa,CAAd,CAMA,mBACI,aAAK,SAAS,CAAC,cAAf,wBACI,4BADJ,CAEKG,KAFL,GADJ,CAMH"},"metadata":{},"sourceType":"module"}